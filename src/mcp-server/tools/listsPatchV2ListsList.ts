/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { listsPatchV2ListsList } from "../../funcs/listsPatchV2ListsList.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.PatchV2ListsListRequest$inboundSchema,
};

export const tool$listsPatchV2ListsList: ToolDefinition<typeof args> = {
  name: "lists-patch-v2-lists-list",
  description: `Update a list

Updates an existing list. Permissions for the list are controlled with the \`workspace_access\` and \`workspace_member_access\` parameters. Please note that lists must have either \`workspace_access\` set to \`"full-access"\` or one or more element of \`workspace_member_access\` with a \`"full-access"\` level. It is also possible to receive a \`403\` billing error if your workspace is not on a plan that supports either advanced workspace or workspace member level access for lists. Changing the parent object of a list is not possible through the API as it can have unintended side-effects that should be considered carefully. If you wish to carry out a parent object change you should do so through the UI.

Required scopes: \`list_configuration:read-write\`.`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await listsPatchV2ListsList(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
