/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { AttioCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope } from "./scopes.js";
import { createRegisterTool } from "./tools.js";
import { tool$attributesGetV2TargetIdentifierAttributes } from "./tools/attributesGetV2TargetIdentifierAttributes.js";
import { tool$attributesGetV2TargetIdentifierAttributesAttribute } from "./tools/attributesGetV2TargetIdentifierAttributesAttribute.js";
import { tool$attributesGetV2TargetIdentifierAttributesAttributeOptions } from "./tools/attributesGetV2TargetIdentifierAttributesAttributeOptions.js";
import { tool$attributesGetV2TargetIdentifierAttributesAttributeStatuses } from "./tools/attributesGetV2TargetIdentifierAttributesAttributeStatuses.js";
import { tool$attributesPatchV2TargetIdentifierAttributesAttribute } from "./tools/attributesPatchV2TargetIdentifierAttributesAttribute.js";
import { tool$attributesPatchV2TargetIdentifierAttributesAttributeOptionsOption } from "./tools/attributesPatchV2TargetIdentifierAttributesAttributeOptionsOption.js";
import { tool$attributesPatchV2TargetIdentifierAttributesAttributeStatusesStatus } from "./tools/attributesPatchV2TargetIdentifierAttributesAttributeStatusesStatus.js";
import { tool$attributesPostV2TargetIdentifierAttributes } from "./tools/attributesPostV2TargetIdentifierAttributes.js";
import { tool$attributesPostV2TargetIdentifierAttributesAttributeOptions } from "./tools/attributesPostV2TargetIdentifierAttributesAttributeOptions.js";
import { tool$attributesPostV2TargetIdentifierAttributesAttributeStatuses } from "./tools/attributesPostV2TargetIdentifierAttributesAttributeStatuses.js";
import { tool$commentsDeleteV2CommentsCommentId } from "./tools/commentsDeleteV2CommentsCommentId.js";
import { tool$commentsGetV2CommentsCommentId } from "./tools/commentsGetV2CommentsCommentId.js";
import { tool$commentsPostV2Comments } from "./tools/commentsPostV2Comments.js";
import { tool$entriesDeleteV2ListsListEntriesEntryId } from "./tools/entriesDeleteV2ListsListEntriesEntryId.js";
import { tool$entriesGetV2ListsListEntriesEntryId } from "./tools/entriesGetV2ListsListEntriesEntryId.js";
import { tool$entriesGetV2ListsListEntriesEntryIdAttributesAttributeValues } from "./tools/entriesGetV2ListsListEntriesEntryIdAttributesAttributeValues.js";
import { tool$entriesPatchV2ListsListEntriesEntryId } from "./tools/entriesPatchV2ListsListEntriesEntryId.js";
import { tool$entriesPostV2ListsListEntries } from "./tools/entriesPostV2ListsListEntries.js";
import { tool$entriesPostV2ListsListEntriesQuery } from "./tools/entriesPostV2ListsListEntriesQuery.js";
import { tool$entriesPutV2ListsListEntries } from "./tools/entriesPutV2ListsListEntries.js";
import { tool$entriesPutV2ListsListEntriesEntryId } from "./tools/entriesPutV2ListsListEntriesEntryId.js";
import { tool$listsGetV2Lists } from "./tools/listsGetV2Lists.js";
import { tool$listsGetV2ListsList } from "./tools/listsGetV2ListsList.js";
import { tool$listsPatchV2ListsList } from "./tools/listsPatchV2ListsList.js";
import { tool$listsPostV2Lists } from "./tools/listsPostV2Lists.js";
import { tool$metaGetV2Self } from "./tools/metaGetV2Self.js";
import { tool$notesDeleteV2NotesNoteId } from "./tools/notesDeleteV2NotesNoteId.js";
import { tool$notesGetV2Notes } from "./tools/notesGetV2Notes.js";
import { tool$notesGetV2NotesNoteId } from "./tools/notesGetV2NotesNoteId.js";
import { tool$notesPostV2Notes } from "./tools/notesPostV2Notes.js";
import { tool$objectsGetV2Objects } from "./tools/objectsGetV2Objects.js";
import { tool$objectsGetV2ObjectsObject } from "./tools/objectsGetV2ObjectsObject.js";
import { tool$objectsPatchV2ObjectsObject } from "./tools/objectsPatchV2ObjectsObject.js";
import { tool$objectsPostV2Objects } from "./tools/objectsPostV2Objects.js";
import { tool$recordsDeleteV2ObjectsObjectRecordsRecordId } from "./tools/recordsDeleteV2ObjectsObjectRecordsRecordId.js";
import { tool$recordsGetV2ObjectsObjectRecordsRecordId } from "./tools/recordsGetV2ObjectsObjectRecordsRecordId.js";
import { tool$recordsGetV2ObjectsObjectRecordsRecordIdAttributesAttributeValues } from "./tools/recordsGetV2ObjectsObjectRecordsRecordIdAttributesAttributeValues.js";
import { tool$recordsGetV2ObjectsObjectRecordsRecordIdEntries } from "./tools/recordsGetV2ObjectsObjectRecordsRecordIdEntries.js";
import { tool$recordsPatchV2ObjectsObjectRecordsRecordId } from "./tools/recordsPatchV2ObjectsObjectRecordsRecordId.js";
import { tool$recordsPostV2ObjectsObjectRecords } from "./tools/recordsPostV2ObjectsObjectRecords.js";
import { tool$recordsPostV2ObjectsObjectRecordsQuery } from "./tools/recordsPostV2ObjectsObjectRecordsQuery.js";
import { tool$recordsPutV2ObjectsObjectRecords } from "./tools/recordsPutV2ObjectsObjectRecords.js";
import { tool$recordsPutV2ObjectsObjectRecordsRecordId } from "./tools/recordsPutV2ObjectsObjectRecordsRecordId.js";
import { tool$tasksDeleteV2TasksTaskId } from "./tools/tasksDeleteV2TasksTaskId.js";
import { tool$tasksGetV2Tasks } from "./tools/tasksGetV2Tasks.js";
import { tool$tasksGetV2TasksTaskId } from "./tools/tasksGetV2TasksTaskId.js";
import { tool$tasksPatchV2TasksTaskId } from "./tools/tasksPatchV2TasksTaskId.js";
import { tool$tasksPostV2Tasks } from "./tools/tasksPostV2Tasks.js";
import { tool$threadsGetV2Threads } from "./tools/threadsGetV2Threads.js";
import { tool$threadsGetV2ThreadsThreadId } from "./tools/threadsGetV2ThreadsThreadId.js";
import { tool$webhooksDeleteV2WebhooksWebhookId } from "./tools/webhooksDeleteV2WebhooksWebhookId.js";
import { tool$webhooksGetV2Webhooks } from "./tools/webhooksGetV2Webhooks.js";
import { tool$webhooksGetV2WebhooksWebhookId } from "./tools/webhooksGetV2WebhooksWebhookId.js";
import { tool$webhooksPatchV2WebhooksWebhookId } from "./tools/webhooksPatchV2WebhooksWebhookId.js";
import { tool$webhooksPostV2Webhooks } from "./tools/webhooksPostV2Webhooks.js";
import { tool$workspaceMembersGetV2WorkspaceMembers } from "./tools/workspaceMembersGetV2WorkspaceMembers.js";
import { tool$workspaceMembersGetV2WorkspaceMembersWorkspaceMemberId } from "./tools/workspaceMembersGetV2WorkspaceMembersWorkspaceMemberId.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  scopes?: MCPScope[] | undefined;
  serverURL?: string | undefined;
  oauth2?: SDKOptions["oauth2"] | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
}) {
  const server = new McpServer({
    name: "Attio",
    version: "0.0.2",
  });

  const client = new AttioCore({
    oauth2: deps.oauth2,
    serverURL: deps.serverURL,
    serverIdx: deps.serverIdx,
  });

  const scopes = new Set(deps.scopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const tool = createRegisterTool(
    deps.logger,
    server,
    client,
    scopes,
    allowedTools,
  );
  const resource = createRegisterResource(deps.logger, server, client, scopes);
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    client,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, client, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$objectsGetV2Objects);
  tool(tool$objectsPostV2Objects);
  tool(tool$objectsGetV2ObjectsObject);
  tool(tool$objectsPatchV2ObjectsObject);
  tool(tool$attributesGetV2TargetIdentifierAttributes);
  tool(tool$attributesPostV2TargetIdentifierAttributes);
  tool(tool$attributesGetV2TargetIdentifierAttributesAttribute);
  tool(tool$attributesPatchV2TargetIdentifierAttributesAttribute);
  tool(tool$attributesGetV2TargetIdentifierAttributesAttributeOptions);
  tool(tool$attributesPostV2TargetIdentifierAttributesAttributeOptions);
  tool(tool$attributesPatchV2TargetIdentifierAttributesAttributeOptionsOption);
  tool(tool$attributesGetV2TargetIdentifierAttributesAttributeStatuses);
  tool(tool$attributesPostV2TargetIdentifierAttributesAttributeStatuses);
  tool(tool$attributesPatchV2TargetIdentifierAttributesAttributeStatusesStatus);
  tool(tool$recordsPostV2ObjectsObjectRecordsQuery);
  tool(tool$recordsPostV2ObjectsObjectRecords);
  tool(tool$recordsPutV2ObjectsObjectRecords);
  tool(tool$recordsGetV2ObjectsObjectRecordsRecordId);
  tool(tool$recordsPatchV2ObjectsObjectRecordsRecordId);
  tool(tool$recordsPutV2ObjectsObjectRecordsRecordId);
  tool(tool$recordsDeleteV2ObjectsObjectRecordsRecordId);
  tool(tool$recordsGetV2ObjectsObjectRecordsRecordIdAttributesAttributeValues);
  tool(tool$recordsGetV2ObjectsObjectRecordsRecordIdEntries);
  tool(tool$listsGetV2Lists);
  tool(tool$listsPostV2Lists);
  tool(tool$listsGetV2ListsList);
  tool(tool$listsPatchV2ListsList);
  tool(tool$entriesPostV2ListsListEntriesQuery);
  tool(tool$entriesPostV2ListsListEntries);
  tool(tool$entriesPutV2ListsListEntries);
  tool(tool$entriesGetV2ListsListEntriesEntryId);
  tool(tool$entriesPatchV2ListsListEntriesEntryId);
  tool(tool$entriesPutV2ListsListEntriesEntryId);
  tool(tool$entriesDeleteV2ListsListEntriesEntryId);
  tool(tool$entriesGetV2ListsListEntriesEntryIdAttributesAttributeValues);
  tool(tool$workspaceMembersGetV2WorkspaceMembers);
  tool(tool$workspaceMembersGetV2WorkspaceMembersWorkspaceMemberId);
  tool(tool$notesGetV2Notes);
  tool(tool$notesPostV2Notes);
  tool(tool$notesGetV2NotesNoteId);
  tool(tool$notesDeleteV2NotesNoteId);
  tool(tool$tasksGetV2Tasks);
  tool(tool$tasksPostV2Tasks);
  tool(tool$tasksGetV2TasksTaskId);
  tool(tool$tasksPatchV2TasksTaskId);
  tool(tool$tasksDeleteV2TasksTaskId);
  tool(tool$threadsGetV2Threads);
  tool(tool$threadsGetV2ThreadsThreadId);
  tool(tool$commentsPostV2Comments);
  tool(tool$commentsGetV2CommentsCommentId);
  tool(tool$commentsDeleteV2CommentsCommentId);
  tool(tool$webhooksGetV2Webhooks);
  tool(tool$webhooksPostV2Webhooks);
  tool(tool$webhooksGetV2WebhooksWebhookId);
  tool(tool$webhooksPatchV2WebhooksWebhookId);
  tool(tool$webhooksDeleteV2WebhooksWebhookId);
  tool(tool$metaGetV2Self);

  return server;
}
